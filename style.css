/* --- [v2.1] 아이디어 9: '숨 쉴 공간' 및 타이포그래피 원칙 적용 --- */
        :root {
            --primary-color: #4A80F3;
            /* [v2.1] 아이디어 9: 가독성을 위해 순수 검정(#000) 대신 진회색 사용 */
            --text-color: #222222; 
            --light-bg-color: #f9f9f9;
            --border-color: #e0e0e0;
            --success-color: #28a745;
            --warning-color: #fd7e14;
            --danger-color: #dc3545;
            --white-color: #FFFFFF;
            --font-family: 'Pretendard', -apple-system, BlinkMacSystemFont, system-ui, Roboto, "Helvetica Neue", "Segoe UI", "Apple SD Gothic Neo", "Noto Sans KR", "Malgun Gothic", "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif;
        }

        body {
            font-family: var(--font-family);
            background-color: var(--white-color);
            color: var(--text-color);
            /* [v2.1] 아이디어 9: 기본 행간 증가 (1.6 -> 1.7) */
            line-height: 1.7; 
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            font-size: 16px; /* [v2.1] 아이디어 9: 기본 폰트 크기 설정 */
        }

       .container {
            width: 100%;
            max-width: 800px;
            /* [v2.1] 아이디어 9: 상하 여백 증가 (40px -> 56px) */
            padding: 56px 20px; 
            box-sizing: border-box;
        }

        header {
            text-align: center;
            /* [v2.1] 아이디어 9: 하단 여백 증가 (40px -> 48px) */
            margin-bottom: 48px; 
        }

        header h1 {
            /* [v2.1] 아이디어 9: 타이포그래피 스케일 (36px -> 40px) */
            font-size: 40px; 
            font-weight: 800;
            margin: 0;
            color: var(--primary-color);
        }

        header p {
            /* [v2.1] 아이디어 9: 타이포그래피 스케일 (18px -> 19px) */
            font-size: 19px; 
            /* [v2.1] 아이디어 10: 톤 다운 ( #666 -> #555 ) */
            color: #555; 
            margin-top: 12px; /* [v2.1] 아이디어 9: 여백 조정 */
        }

        #error-banner {
            background-color: var(--danger-color);
            color: var(--white-color);
            padding: 16px 24px;
            border-radius: 8px;
            /* [v2.1] 아이디어 9: 여백 증가 (24px -> 32px) */
            margin-bottom: 32px; 
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 4px 12px rgba(220, 53, 69, 0.3);
            transition: background-color 0.3s ease, box-shadow 0.3s ease; /* [v3.0] 성공 메시지 전환 효과 */
        }
        #error-message { font-weight: 600; margin: 0; }
        #error-close {
            background: none; border: none; color: var(--white-color);
            font-size: 24px; font-weight: 700; cursor: pointer;
            padding: 0 8px; line-height: 1; opacity: 0.8; transition: opacity 0.2s;
        }
        #error-close:hover { opacity: 1; }

       .main-card {
            background-color: var(--white-color);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            /* [v2.1] 아이디어 9: 카드 내부 여백 증가 (32px -> 40px) */
            padding: 40px; 
            box-shadow: 0 4px 16px rgba(0,0,0,0.05); /* [v2.1] 아이디어 9: 그림자 미세 조정 */
            /* [v2.1] 아이디어 9: 카드 간 여백 증가 (24px -> 32px) */
            margin-bottom: 32px; 
        }

        /* --- 입력 섹션 --- */
        #input-section h2, #analysis-section h2, #feedback-report-section h2 {
            /* [v2.1] 아이디어 9: 타이포그래피 스케일 (24px -> 28px) */
            font-size: 28px; 
            font-weight: 800; /* [v2.1] 아이디어 9: 강조 */
            /* [v2.1] 아이디어 9: 여백 조정 */
            margin-bottom: 24px; 
            padding-bottom: 8px;
            border-bottom: 2px solid var(--border-color);
        }
         #input-section h2:first-of-type { margin-top: 0; }

        #text-input {
            width: 100%; height: 180px; padding: 16px;
            border: 1px solid var(--border-color); border-radius: 8px;
            font-family: var(--font-family); font-size: 16px;
            resize: vertical; box-sizing: border-box; margin-bottom: 8px;
        }

        #char-counter {
            text-align: right; font-size: 14px;
            font-weight: 500; color: var(--danger-color);
        }
        #char-counter.sufficient {
            color: var(--success-color); font-weight: 600;
        }

       .course-options { margin-top: 24px; display: flex; gap: 16px; }
       .course-option {
            flex: 1; padding: 20px; border: 1px solid var(--border-color); /* [v2.1] 아이디어 9: 내부 여백 증가 */
            border-radius: 8px; cursor: pointer; transition: all 0.2s ease;
            text-align: center;
        }
       .course-option:hover,.course-option.selected {
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(74, 128, 243, 0.2); /* [v2.1] 아이디어 9: 강조 */
        }
       .course-option h3 { margin: 0 0 8px 0; font-size: 17px; font-weight: 700; } /* [v2.1] 아이디어 9: 스케일 조정 */
       .course-option p { margin: 0; font-size: 15px; color: #555; }

       .btn {
            display: block; width: 100%; padding: 18px; /* [v2.1] 아이디어 9: 버튼 크기 증가 */
            margin-top: 32px; /* [v2.1] 아이디어 9: 여백 증가 */
            background-color: var(--primary-color);
            color: var(--white-color); border: none; border-radius: 8px;
            font-size: 18px; font-weight: 700; cursor: pointer;
            transition: background-color 0.2s ease; box-sizing: border-box;
        }
       
       /* [v2.2] PDF 다운로드 버튼을 위한 2순위 버튼 스타일 */
       .btn-secondary { 
            background-color: #6c757d; 
            margin-top: 32px; 
        } 
       .btn-secondary:hover { background-color: #5a6268; }
       
       /* [v3.0] 버튼 간격 일관성 적용 */
       /* [사용자 피드백 반영] PDF 버튼 크기 및 하단 버튼 여백/크기 조정 */
       #download-pdf-button, #generate-prompt-button, #reset-button {
           margin-top: 16px;
           padding: 16px; /* 기본 버튼(18px)보다 약간 작게 조정 */
           font-size: 17px; /* 기본 버튼(18px)보다 약간 작게 조정 */
       }
       /* [v3.0] 다운로드 버튼은 첫번째 버튼이므로 v2.2의 32px 유지 */
       #download-pdf-button {
           margin-top: 32px;
       }
       
       .btn:hover { background-color: #3a6cc7; }
       .btn:disabled { background-color: #a0b9e8; cursor: not-allowed; }

        /* --- [v2.0] 훈련 섹션 (포커스 모드) --- */
        #analysis-section h2 {
            text-align: center;
            border-bottom: none; /* 포커스 모드에서는 제목 밑줄 제거 */
            margin-bottom: 12px; /* [v2.1] 아이디어 9: 여백 조정 */
        }
        #progress-indicator {
            text-align: center;
            font-size: 18px;
            font-weight: 600;
            color: var(--primary-color);
            margin-bottom: 24px; /* 카드와 간격 */
        }

        /* 훈련 카드 (단일) */
       .chunk-card {
            background: var(--white-color);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            margin-bottom: 24px; /* 버튼과 간격 */
            /* [v2.1] 아이디어 9: 내부 여백 증가 */
            padding: 32px; 
            display: grid;
            grid-template-columns: 1fr 1.5fr; /* 좌우 분할 */
            gap: 32px; /* [v2.1] 아이디어 9: 내부 간격 증가 */
        }
       .original-text-container {
            background-color: var(--light-bg-color);
            padding: 20px; border-radius: 8px; border: 1px solid #eee; /* [v2.1] 아이디어 9: 여백 조정 */
        }
       .original-text-container h4 {
            margin: 0 0 12px 0; font-size: 15px; font-weight: 700; /* [v2.1] 아이디어 9: 스케일 조정 */
            color: #555; display: flex; align-items: center; gap: 6px;
       }
       /* [사용자 피드백 반영] 이모티콘 중복 방지를 위해 ::before 제거 */
       /* .original-text-container h4::before { content: '📄'; } */
       
        p.original-text {
            font-size: 16px; line-height: 1.7; margin: 0;
            word-break: keep-all;
        }
       .analysis-input-container h4 {
            margin: 0 0 12px 0; font-size: 15px; font-weight: 700; /* [v2.1] 아이디어 9: 스케일 조정 */
            color: var(--primary-color); display: flex; align-items: center; gap: 6px;
       }
       /* [사용자 피드백 반영] 이모티콘 중복 방지를 위해 ::before 제거 */
       /* .analysis-input-container h4::before { content: '✍️'; } */

        textarea.analysis-input {
            width: 100%; height: 160px; padding: 14px; /* [v2.1] 아이디어 9: 여백 조정 */
            border: 1px solid var(--border-color); border-radius: 8px;
            font-family: var(--font-family); font-size: 16px; /* [v2.1] 아이디어 9: 스케일 조정 */
            resize: vertical; box-sizing: border-box;
            transition: border-color 0.2s, box-shadow 0.2s;
        }
        textarea.analysis-input:focus {
            border-color: var(--primary-color);
            box-shadow: 0 0 0 3px rgba(74, 128, 243, 0.2); /* [v2.1] 아이디어 9: 강조 */
            outline: none;
        }
        textarea.analysis-input.invalid {
            border: 1px solid var(--danger-color);
            box-shadow: 0 0 0 3px rgba(220, 53, 69, 0.2); /* [v2.1] 아이디어 9: 강조 */
        }
        /* --- [END v2.0] 훈련 섹션 --- */


        /* --- [v2.1] 피드백 리포트 섹션 --- */
        #feedback-report-section {
            width: 100%; max-width: 800px;
            padding: 0; box-sizing: border-box;
            animation: fadeIn 0.5s ease-out;
        }
        
        /* [v2.1] 아이디어 1: 점수 시각화 (헤더 단순화) */
        .report-header {
            text-align: center; 
            /* [v2.1] 아이디어 9: 내부 여백 증가 (32px -> 48px) */
            padding: 48px 32px; 
            border-radius: 12px;
        }
        .report-header h2 {
            /* [v2.1] 아이디어 9: 점수 강조를 위해 제목은 축소 (28px -> 24px) */
            font-size: 24px; 
            margin: 0 0 24px 0; /* [v2.1] 아이디어 9: 여백 확보 */
            color: #555; /* [v2.1] 아이디어 10: 톤 다운 */
            font-weight: 700;
            border-bottom: none;
        }
        #feedback-score-container { text-align: center; }
        
        /* [v2.1] 아이디어 1: '단일 진실 공급원' 레이블 */
        #feedback-score-label {
            font-size: 16px; 
            font-weight: 600; 
            color: #555; 
            margin: 0 0 8px 0; /* [v2.1] 아이디어 9: 여백 조정 */
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        /* [v2.1] 아이디어 1: '단일 진실 공급원' 점수 */
        #feedback-score {
            /* [v2.1] 아이디어 9: 타이포그래피 스케일 (96px -> 104px) */
            font-size: 104px; 
            font-weight: 900;
            margin: 0; 
            line-height: 1;
        }
       .score-s { color: var(--success-color); } /* 85+ */
       .score-a { color: var(--primary-color); } /* 60-84 */
       .score-b { color: var(--warning-color); } /* 40-59 */
       .score-c { color: var(--danger-color); }  /* 0-39 */
        
       /* [v2.1] 아이디어 2: 동기부여 요약문 */
       #feedback-summary {
            /* [v2.1] 아이디어 9: 스케일 조정 (22px -> 20px) */
            font-size: 20px; 
            font-weight: 600;
            /* [v2.1] 아이디어 9: 여백 증가 (8px -> 16px) */
            margin-top: 16px; 
            margin-bottom: 32px; 
            color: #444; /* [v2.1] 아이디어 10: 톤 조정 */
            /* [v2.1] 아이디어 9: 가독성을 위한 최대 너비 설정 */
            max-width: 450px; 
            margin-left: auto;
            margin-right: auto;
            line-height: 1.6;
        }

        /* [v2.0] 레이더 차트 컨테이너 - 숨김 */
        #chart-container {
             display: none;
        }

        /* [v2.0] S-Class 1:1 상세 코칭 */
        #detailed-review-container {
            display: flex;
            flex-direction: column;
            gap: 24px; /* 리뷰 카드 사이 간격 */
        }
        .review-card {
            background-color: var(--white-color);
            border: 1px solid var(--border-color);
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
            overflow: hidden; /* 헤더의 라운드 코너 적용 */
        }
        .review-card-header {
            background-color: var(--light-bg-color);
            /* [v2.1] 아이디어 9: 여백 조정 */
            padding: 16px 24px; 
            border-bottom: 1px solid var(--border-color);
        }
        .review-card-header h4 {
            margin: 0; font-size: 17px; font-weight: 700; /* [v2.1] 아이디어 9: 스케일 조정 */
        }
        .review-card-body {
            /* [v2.1] 아이디어 9: 내부 여백 증가 (20px -> 24px) */
            padding: 24px; 
            display: grid;
            grid-template-columns: 1fr 1fr; /* 좌: 내 분석, 우: 코치 피드백 */
            gap: 24px; /* [v2.1] 아이디어 9: 간격 증가 */
        }
        .review-card-body .original-text-container {
            /* 1:1 리뷰에서는 원본 텍스트를 헤더로 올렸으므로 숨김 */
            display: none;
        }
        .user-analysis-box, .coach-feedback-box {
            background-color: var(--white-color);
            border-radius: 8px;
            padding: 20px; /* [v2.1] 아이디어 9: 여백 증가 */
        }
        .user-analysis-box {
            border: 1px solid var(--success-color);
            background-color: #f6fff8;
        }
        .coach-feedback-box {
            border: 1px solid var(--primary-color);
            background-color: #f7f9ff;
        }
        .review-card h5 {
            /* [v2.1] 아이디어 9: 스케일 조정 (15px -> 16px) */
            margin: 0 0 12px 0; font-size: 16px; font-weight: 700; 
            display: flex; align-items: center; gap: 8px;
        }
        .user-analysis-box h5 { color: var(--success-color); }
        /* [사용자 피드백 반영] 이모티콘 중복 방지를 위해 ::before 제거 */
        /* .user-analysis-box h5::before { content: '✔️'; } */
        .coach-feedback-box h5 { color: var(--primary-color); }
        /* [사용자 피드백 반영] 이모티콘 중복 방지를 위해 ::before 제거 */
        /* .coach-feedback-box h5::before { content: '📈'; } */

        .review-card p {
            margin: 0; font-size: 15px; line-height: 1.7;
            color: #444; word-break: keep-all;
        }
        .review-card p.empty-analysis {
            color: #888;
            font-style: italic;
        }

        /* [v2.2] 피드백 가독성 향상 */
        /* [사용자 피드백 반영] script.js에서 <strong> 처리하므로 CSS 스타일 최소화 */
        .coach-feedback-box p strong {
            color: var(--primary-color);
            font-weight: 700;
            font-size: 15px;
        }
        /* [사용자 피드백 반영] <br> 태그로 줄바꿈을 제어하므로 margin 제거 */
        .coach-feedback-box p strong {
            display: inline-block;
            margin-top: 0;
            margin-bottom: 0;
        }


        /* [사용자 피드백 반영] '피드백-실천' 버튼 제거됨 */
        /*
        .btn-use-as-lesson { ... }
        */

        /* 피드백 요약 패널 */
       .feedback-details {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 24px;
            text-align: left;
            margin-bottom: 32px;
        }
       .feedback-panel {
            background-color: var(--light-bg-color);
            /* [v2.1] 아이디어 9: 내부 여백 증가 (24px -> 32px) */
            border-radius: 8px; padding: 32px; 
        }
       .feedback-panel h3 {
            /* [v2.1] 아이디어 9: 스케일 조정 (18px -> 20px) */
            margin: 0 0 16px 0; font-size: 20px; 
            display: flex; align-items: center;
            gap: 8px; font-weight: 700;
       }
        #good-points-panel h3 { color: var(--success-color); }
        #improvement-points-panel h3 { color: var(--warning-color); }
       .feedback-panel ul { list-style-type: none; padding: 0; margin: 0; }
       .feedback-panel li {
            margin-bottom: 12px; font-size: 16px; line-height: 1.7; /* [v2.1] 아이디어 9: 스케일 조정 */
            padding-left: 24px; position: relative; /* [v2.1] 아이디어 9: 여백 조정 */
       }
       #good-points-panel li::before {
           content: '👍'; position: absolute; left: 0; top: 2px;
       }
        #improvement-points-panel li::before {
           content: '📈'; position: absolute; left: 0; top: 2px;
       }

        /* [사용자 피드백 반영] '가장 중요한 한 가지' 섹션 제거됨 */
        /*
        .action-plan-section { ... }
        #action-plan-input { ... }
        #action-plan-counter { ... }
        */
         
        /* [사용자 피드백 반영] '소크라테스식' 셀프 코칭 섹션 제거됨 */
        /*
        .self-coaching-section { ... }
        #socratic-question { ... }
        #self-coaching-input { ... }
        */

        /* --- [END v2.1] 피드백 리포트 --- */


        /* 동적 로더 스타일 */
        #dynamic-loader {
            text-align: center; padding: 48px;
            flex-direction: column; gap: 24px;
            align-items: center; justify-content: center;
        }
        .spinner {
            border: 6px solid #f3f3f3;
            border-top: 6px solid var(--primary-color);
            border-radius: 50%; width: 50px; height: 50px;
            animation: spin 1s linear infinite;
        }
        #loader-text {
            font-size: 18px; font-weight: 600;
            color: var(--text-color); margin: 0;
        }

        footer {
            text-align: center; padding: 20px;
            font-size: 14px; color: #999;
            /* [v2.1] 아이디어 9: 여백 증가 (40px -> 64px) */
            margin-top: 64px; 
        }

        .hidden { display: none !important; }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* 모바일 반응형 */
        @media (max-width: 768px) {
           .container { padding: 24px 15px; } /* [v2.1] 아이디어 9: 여백 조정 */
           header h1 { font-size: 30px; } /* [v2.1] 아이디어 9: 스케일 조정 */
           header p { font-size: 17px; } /* [v2.1] 아이디어 9: 스케일 조정 */
           .main-card { padding: 24px; } /* [v2.1] 아이디어 9: 여백 조정 */
           .chunk-card { padding: 20px; } /* [v2.1] 아이디어 9: 여백 조정 */
           .feedback-panel { padding: 24px; } /* [v2.1] 아이디어 9: 여백 조정 */
           /* [사용자 피드백 반영] 제거된 섹션의 모바일 스타일 제거 */
           
           #text-input { height: 150px; }
           .course-options { flex-direction: column; }
           .chunk-card { grid-template-columns: 1fr; } /* 훈련 카드 세로 정렬 */
           
           /* [v2.1] 아이디어 1: 모바일 점수 스케일 조정 */
           #feedback-score { font-size: 80px; } 
           #feedback-summary { font-size: 18px; }
           
           /* [v2.0] 상세 리뷰 카드 세로 정렬 */
           .review-card-body { grid-template-columns: 1fr; }
           .feedback-details { grid-template-columns: 1fr; } /* 요약 패널 세로 정렬 */
        }